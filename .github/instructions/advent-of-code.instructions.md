---
applyTo: '**'
---
# Advent of Code 2025 - Instructions and Workflow (.NET)

This document explains the conventions, tooling, and step-by-step workflow for solving Advent of Code puzzles using .NET 9 projects. The assistant follows this workflow when generating code and running solutions.

## Quick Start

To run an implementation:
```powershell
cd 'c:\src\advent-of-code-2025\Day 01\<Author>'
dotnet run -c Release
```

To create a new implementation for a day, copy `_template` into `Day XX\<Author>`, then update `Program.cs` to replace `REPLACE_WITH_MODEL_NAME` with your model name and implement the `Solve` function.

## Environment prerequisites
- Windows PowerShell (v5.1 recommended).
- .NET SDK 9.0.304 installed and available on `PATH`.

Folder layout and naming
- Each day must live in a folder named `Day XX` where `XX` is zero-padded (e.g., `Day 01`).
- Inside `Day XX`, create a subfolder per author/implementation named `<Author>` (for example `Day 01\GPT-5 mini` or `Day 01\Self`).
- Shared files used by all implementations (example: `puzzle.txt`, `input.txt`) should live in the `Day XX` root. Implementations live in `Day XX\<Author>` and contain their own `.csproj` and `Program.cs` that refer to the shared `..\` files.
- Required files inside each `Day XX` root folder:
  - `puzzle.txt` — the puzzle description. The AI agent should read this file to determine the solution logic but MUST NOT parse it in code. `puzzle.txt` is not needed for running the solver.
  - `input.txt` — your personal puzzle input (required to run the solver).
  - `sample.txt` and `sample.expected.txt` — the assistant must extract the example from `puzzle.txt` into these files when generating the day's folder (see below).
- Required files inside each implementation folder (`Day XX\<Author>`):
  - A `.csproj` file (named `DayXX.csproj`, e.g., `Day01.csproj` for Day 1) and `Program.cs` — the solver project.
  - The project's `Program.cs` should locate the shared `input.txt`/`puzzle.txt`/`sample.txt` using relative paths (for example `Path.Combine(projectDir, "..", "input.txt")`).
- Use the `_template` folder in the repository as the canonical template for scaffolding each implementation. Copy `_template` into `Day XX\<Author>` when creating a new implementation, rename `DayTemplate.csproj` to `DayXX.csproj`, and replace `REPLACE_WITH_MODEL_NAME` in the implementation's `Program.cs` with the exact model name used.

Project conventions
- Projects target `net9.0` and use the installed .NET 9 SDK.
 - `Program.cs` responsibilities:
  1. Read and validate `input.txt`.
  2. Implement a `Solve(string input)` function that returns both Part 1 and Part 2 results in a single string, formatted as two lines: `Part 1: <answer>` and `Part 2: <answer>`.
  3. **Important:** Advent of Code puzzles are released in two parts. Part 2 is only revealed after completing Part 1. When implementing a solution for the first time, Part 2 may not yet be available. In this case, implement Part 1 fully and return a placeholder for Part 2 (e.g., `Part 2: Not yet available`). Update the `Solve` function later when Part 2 is revealed.
 - Output should include helpful diagnostics:
  - Which day/project is running and the project directory.
  - Sample run results. The assistant MUST extract the example from `puzzle.txt` into `sample.txt` (and the expected output into `sample.expected.txt`) when generating the day's folder. The runtime harness must validate the sample before running `input.txt`. A missing or mismatched sample validation should cause a hard failure.
  - Elapsed processing time.
  - A hard-coded `Generated by` label embedded in the solution source. The agent generating the solution must replace the placeholder `REPLACE_WITH_MODEL_NAME` in the template with the exact model name used. Do not rely on environment variables at runtime for this attribution.

Sample input and expected output files
- The project MUST NOT rely on parsing `puzzle.txt`. Instead, use these files for sample validation:
  - `sample.txt` — the example input from the puzzle. If present, the harness will run the solver on this sample before running `input.txt`.
  - `sample.expected.txt` — the expected output for the sample. Must be formatted as two lines: `Part 1: <answer>` and `Part 2: <answer>`. If Part 2 is not yet available, use a placeholder (e.g., `Part 2: Not yet available`).
  - Both `sample.txt` and `sample.expected.txt` must be present together. If one exists without the other, validation will fail.
  - **Handling multiple examples:** If a puzzle provides multiple examples, choose the most representative one or the one explicitly marked as the main example. If multiple examples test different aspects, combine them into a single `sample.txt` with sections separated by blank lines, and format `sample.expected.txt` to match the combined output.

Using the `_template` folder
- Copy `_template` into `Day XX\<Author>` when creating a new implementation.
- Rename `DayTemplate.csproj` to match the day (e.g., `Day01.csproj` for Day 1).
- Replace the `REPLACE_WITH_MODEL_NAME` placeholder in `Program.cs` with the model name you used to generate the day's solution.

Run steps (PowerShell)
- To run an implementation (build + run):

```powershell
cd 'c:\src\advent-of-code-2025\Day 01\<Author>'
dotnet run -c Release
```

- The command builds the project in `Release` configuration and runs the compiled executable, writing output to the console.

What the assistant will do each day
When asked to solve a day's puzzle the assistant will:
  1. Expect `input.txt` to be present in the `Day XX` folder; `puzzle.txt` may also be present as a human-readable reference but is not required to run the solver.
  2. Read `puzzle.txt` to determine the puzzle requirements when implementing the solution, but the runtime `Program.cs` must not parse `puzzle.txt`.
  3. The assistant MUST extract the example(s) and expected output(s) from `puzzle.txt` into `sample.txt` and `sample.expected.txt` when generating the day's folder. Extraction is mandatory: the runtime harness will fail if the sample is missing or does not match `sample.expected.txt`.
     - If Part 2 is not yet available in `puzzle.txt`, set `sample.expected.txt` to include `Part 2: Not yet available` as the placeholder.
  4. Create or update the `Program.cs` solver logic in the `Day XX\<Author>` folder, replacing the `REPLACE_WITH_MODEL_NAME` placeholder with the exact model name used.
  5. `Solve(string input)` must return both Part 1 and Part 2 results in the returned string formatted as two lines: `Part 1: <answer>` and `Part 2: <answer>`. If Part 2 is not yet available, return `Part 2: Not yet available`.
  6. Run the solver using `dotnet run -c Release` from the implementation folder and report the puzzle results, processing time, and helpful debug info.
  7. When Part 2 becomes available, update the `Program.cs` `Solve` function and `sample.expected.txt` accordingly, then re-run.

## Error codes
The program uses specific exit codes for different error conditions:
- `0` — Success
- `1` — `input.txt` not found
- `2` — Exception during solve
- `3` — `REPLACE_WITH_MODEL_NAME` placeholder not replaced
- `4` — Sample files incomplete (only one of `sample.txt` or `sample.expected.txt` present)
- `5` — Sample validation failed (output doesn't match expected)

Troubleshooting
- If `dotnet` is not found: run `dotnet --list-sdks` to verify `9.0.304` exists and that `dotnet` is on `PATH`.
- If `input.txt` is missing: add the file and rerun; the program should exit with a non-zero code.
- If Part 2 validation fails after implementing Part 2: ensure both `Program.cs` `Solve` function and `sample.expected.txt` were updated to replace the `Part 2: Not yet available` placeholder with the actual Part 2 logic and expected answer.

Scaffolding new days
- To create a new day, copy `_template` and rename the folder to `Day XX`. Replace `REPLACE_WITH_MODEL_NAME` in `Program.cs` with the model name used to generate the solution.
